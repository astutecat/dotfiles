# vim:ft=toml.chezmoitmpl

encryption = "gpg"
format = "yaml"

{{- $osid := .chezmoi.os -}}
{{- if hasKey .chezmoi.osRelease "id" -}}
{{-   $osid = printf "%s-%s" .chezmoi.os .chezmoi.osRelease.id -}}
{{- end -}}
{{- $location := "other" -}}
{{- if and (eq $osid "linux-debian") (eq .chezmoi.fqdnHostname "d9" "d12") -}}
{{-   $location = "work" -}}
{{- else if eq .chezmoi.fqdnHostname "AstuteMBP" "astutemanjaro" "PHOENIX10.localdomain" -}}
{{-   $location = "personal" -}}
{{- end }}

[diff]
  exclude = ["scripts"]

[gpg]
  recipient = "F0353ACE2BC156F795D707E03BD453E1C45430E8"

[git]
  autoAdd = true

[data]
  location = {{ $location | quote }}
  osid = {{ $osid | quote }}
  is_macos = {{ eq .chezmoi.os "darwin" }}
  no_fonts = {{ or (eq $location "other") (eq .chezmoi.os "darwin") }}
  config_dir = "{{.chezmoi.homeDir}}/.config"
  on_d9 = {{ and (eq $location "work") (eq .chezmoi.fqdnHostname "d9") }}
  devbox_beam = {{ ne $location "other" }}

[data.git]
{{- if eq $location "work" }}
  name = "Will Rogers"
  email = "william.rogers@entelios.com"
  signing_key = "469E3543DCF12EB0"
{{ else }}
  name = "Will Rogers"
  email = "github@astutecat.dev"
  signing_key = "3BD453E1C45430E8"
{{ end -}}
